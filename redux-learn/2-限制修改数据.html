<!DOCTYPE html>
<html lang="zh-cn">
	<head>
		<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
        <title></title>
		<style>
			
		</style>
	</head>

	<body>
		<div id="area-one"></div>
    <div id="area-two"></div>
    <script>
      // 把数据用原生的方式渲染在页面中
      // 状态
      let data = {
        one:{
          title: 'hello ,world',
          color: 'yellow'
        },
        two:{
          title: 'hello two',
          color: 'red'
        }
      }

      dispatch({type:'update_one_title',title:'修改了one的title1'})
      dispatch({type:'update_Two_color',color:'blue'})
      dispatch({type:'update_one_title',title:'修改了one的title2'})
      dispatch({type:'update_one_title',title:'修改了one的title3'})

      // 谁都可以修改数据，必须通过dispath进行修改
      /* 
        接收一个action的参数，一个action中至少包含一个type
          {
            type 来声明到底要做什么
          }
        任何人修改数据，必须用 action 来大声告诉它要修改什么，只有它允许的才能修改
      */
      function dispatch(action){
        switch(action.type){
          case 'update_one_title':
            data.one.title = action.title;
          break;
          case 'update_Two_color':
            data.two.color = action.color;
          break;
        }
      }
      
      
      
      renderApp(data)

      function renderApp(appState){
        renderAreaOne(appState.one)
        renderAreaTwo(appState.two)
      }

      // 增加渲染函数
      function renderAreaOne(one){
        let areaOne = document.getElementById('area-one');
        areaOne.innerHTML = one.title;
        areaOne.style.color = one.color;
      }
      function renderAreaTwo(two){
        let areaTwo = document.getElementById('area-two');
        areaTwo.innerHTML = two.title;
        areaTwo.style.color = two.color;
      }

    </script>
	</body>
</html>